!!!
%html{html_attrs(I18n.locale)}
  %head
    %meta(http-equiv='Content-Type' content='text/html;charset=utf-8')
    %meta(http-equiv='Content-Script-Type' content='text/javascript')
    - if protect_against_forgery?
      %meta(name='authenticity_token' content=form_authenticity_token)
    %title Keller Solutions Recipe Grabber
    = stylesheet_link_tag 'main'
  %body
    #header
      %h1 Keller Solutions Recipe Grabber
      %p
        = link_to 'Home', '/'
    #flash
      - flash.each do |name, msg|
        %div(class=name)= msg
    #content
      %h2= @title
      %img{:src => @image, :style => 'float: right; margin-left: 20px; border: 2px solid black;'}
      %p= @head_note
      %p
        %strong Yield:
        = @yield.blank? ? 'N/A' : @yield
      %p
        %strong Prep Time:
        = @prep_time.blank? ? 'N/A' : @prep_time
        %br
        %strong Cook Time:
        = @cook_time.blank? ? 'N/A' : @cook_time
        %br
        %strong Total Time:
        = @total_time.blank? ? 'N/A' : @total_time
      %h3 Ingredients
      %ul
        - @ingredients.each do |ingredient|
          %li= ingredient.search("text()").to_s.gsub(/\s+/, ' ').strip
      %h3 Directions
      - @steps.each do |step|
        %p= step.search("text()").to_s.gsub(/\s+/, ' ').strip
      %h3 Nutritional Analysis
      %p
        - if @nutritional_analysis.empty?
          N/A
        - @nutritional_analysis.each do |nutrient|
          = nutrient.search("text()").to_s.gsub(/\s+/, ' ').strip
          %br
      %p
        %strong Author:
        = @author.blank? ? 'N/A' : @author
        %br
        %strong Publication:
        = @publication.blank? ? 'N/A' : @publication
        %br
        %strong Published:
        = @published.blank? ? 'N/A' : @published
    #footer
      == &copy; #{Date.today.year}, Keller Solutions
